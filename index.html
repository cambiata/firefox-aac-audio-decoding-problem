<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            font-family: sans-serif;
        }

        code {
            font-family: monospace;
        }
    </style>
</head>

<body>
    <p>Firefox's WebAudioApi context decoder seems to be pickier than Chrome, Edge and Safari when it comes to some
        cases of AAC-encoded data.</p>
    <p>The aac file used below (very short, about 0.2 secs) works fine on Edge, Chrome, Safari, both when decoded by
        WebAudioApi and when opened in browser</p>


    <h4>WebAudioApi decoding that causes Firefox error</h4>

    <button id="btnTest">Failing: Test decode arrayBuffer and play</button>
    <p>Fails on Firefox with the following error:</p>

    <code>EncodingError: The buffer passed to decodeAudioData contains an unknown content type.</code>


    <h4>Playback works when opened in tab</h4>
    <a href="/arraybufferAAC-PROBLEMATIC.aac" target="_blank">Open problematic aac file in separate tab</a>

    <script src="index.js"></script>
</body>

</html>